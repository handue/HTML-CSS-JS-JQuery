<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ajax</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <div class="row">
        <!-- <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class ="w-100" alt="">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
            </div> -->
      </div>
    </div>

    <div class="container">
      <button class="btn btn-danger" id="more">더보기</button>
    </div>
    <!-- 원래 post,get으로 하면 웹페이지가 새로고침 되면서 조금 느린듯한 효과를 주는데 그런 효과를 없애고 효과적으로 서버와 통신하기 위해서 만든게 ajax -->

    <!-- jQuery CDN -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script>
      $("#more").click(function () {
        $.get("https://codingapple1.github.io/js/more1.json").done(function (
          data
        ) {
          data.forEach(function (a, i) {
            console.log(data+'ㅎㅇ');
            $("#more").append('<div class="more-container"></div>'),
              $(".more-container")
                .eq(i)
                .append(
                  '<img src="https://via.placeholder.com/600" class ="w-100" alt="">'
                ),
              $(".more-container").eq(i).append(`<h5> ${data[i].title}`),
              $(".more-container").eq(i).append(`<p> 가격: ${data[i].price}`);
            console.log(data);
          });
        });
      });
    </script>
    <script>
      var products = [
        { id: 0, price: 70000, title: "Blossom" },
        { id: 1, price: 50000, title: "Spring" },
        { id: 2, price: 60000, title: "Black" },
      ];
      // 제이쿼리
      products.forEach(function (data, i) {
        $(".row").append('<div class="col-sm-4">'),
          $(".col-sm-4")
            .eq(i)
            .append(
              '<img src="https://via.placeholder.com/600" class ="w-100" alt="">'
            ),
          $(".col-sm-4").eq(i).append(`<h5> ${products[i]["title"]}`),
          $(".col-sm-4").eq(i).append(`<p> 가격: ${products[i].price}`);
        console.log(data);
      });

      // 퓨어 자바스크립트
    </script>
    <script>
      // $.get('https://codingapple1.github.io/hello.txt').done(function(data){
      //     // 여기서 data는 get 통해서 받아온 데이터
      //     console.log(data);
      // }).fail(function(){
      //     console.log('실패함')
      // })
      // $.get('https://codingapple1.github.io/price.json').done(function(data){
      //     console.log(data['price']);
      // }).fail(function(){
      //     console.log('실패함');
      // })
      // $.post('',{name:'kim'}).done(function(data){
      //     console.log(data);
      // })

      // 아래는 퓨어 자바스크립트로 하는 방법

      // fetch('https://codingapple1.github.io/hello.txt').then(
      //     //res => res.json()이 json 형태를 오브젝트로 바꿔주는거. jquery 는 알아서 해줌.
      //     res => res.json()).then(data=>{
      //         console.log(data)
      //     }).catch(error => {
      //         console.log(error);
      //     })
    </script>
  </body>
</html>
